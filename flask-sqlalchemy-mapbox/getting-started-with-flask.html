<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Getting started with Flask | Building Python-based, database-driven web applications (with maps!) using Flask, SQLite, SQLAlchemy and MapBox</title>
  <meta name="description" content="A guide to building a simple database-based web application with Flask and SQLAlchemy, along with a little MapBox mapping thrown in for good measure." />
  <meta name="generator" content="bookdown 0.11 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Getting started with Flask | Building Python-based, database-driven web applications (with maps!) using Flask, SQLite, SQLAlchemy and MapBox" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A guide to building a simple database-based web application with Flask and SQLAlchemy, along with a little MapBox mapping thrown in for good measure." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Getting started with Flask | Building Python-based, database-driven web applications (with maps!) using Flask, SQLite, SQLAlchemy and MapBox" />
  
  <meta name="twitter:description" content="A guide to building a simple database-based web application with Flask and SQLAlchemy, along with a little MapBox mapping thrown in for good measure." />
  

<meta name="author" content="Jonathan Soma" />


<meta name="date" content="2019-06-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html">
<link rel="next" href="setting-up-our-database.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  { color: #cccccc; background-color: #303030; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ffcfaf; } /* Alert */
code span.an { color: #7f9f7f; font-weight: bold; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #dca3a3; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #f0dfaf; } /* ControlFlow */
code span.ch { color: #dca3a3; } /* Char */
code span.cn { color: #dca3a3; font-weight: bold; } /* Constant */
code span.co { color: #7f9f7f; } /* Comment */
code span.cv { color: #7f9f7f; font-weight: bold; } /* CommentVar */
code span.do { color: #7f9f7f; } /* Documentation */
code span.dt { color: #dfdfbf; } /* DataType */
code span.dv { color: #dcdccc; } /* DecVal */
code span.er { color: #c3bf9f; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #c0bed1; } /* Float */
code span.fu { color: #efef8f; } /* Function */
code span.im { } /* Import */
code span.in { color: #7f9f7f; font-weight: bold; } /* Information */
code span.kw { color: #f0dfaf; } /* Keyword */
code span.op { color: #f0efd0; } /* Operator */
code span.ot { color: #efef8f; } /* Other */
code span.pp { color: #ffcfaf; font-weight: bold; } /* Preprocessor */
code span.sc { color: #dca3a3; } /* SpecialChar */
code span.ss { color: #cc9393; } /* SpecialString */
code span.st { color: #cc9393; } /* String */
code span.va { } /* Variable */
code span.vs { color: #cc9393; } /* VerbatimString */
code span.wa { color: #7f9f7f; font-weight: bold; } /* Warning */
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' || rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style.replace(/;/g, ' !important;') + '}', j);
    }
  }
})();
</script>
<style>
.sourceCode.python {
  margin-bottom: 0 !important;
}

.book .book-body .page-wrapper .page-inner section.normal .sourceCode.python + p {
  margin-top: 1.275em;
}

.book .book-body .page-wrapper .page-inner section.normal .sourceCode.python + table {
  margin-top: 1.275em !important;
}

.book .book-body .page-wrapper .page-inner section.normal pre > code {
  word-wrap: break-word;
  white-space: pre-wrap;
}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#our-goal"><i class="fa fa-check"></i><b>1.1</b> Our goal</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#every-step-well-take"><i class="fa fa-check"></i><b>1.2</b> Every step we’ll take</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#why-in-the-name-of-undiscovered-species-am-i-doing-this"><i class="fa fa-check"></i><b>1.3</b> Why in the name of undiscovered species am I doing this?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="getting-started-with-flask.html"><a href="getting-started-with-flask.html"><i class="fa fa-check"></i><b>2</b> Getting started with Flask</a><ul>
<li class="chapter" data-level="2.1" data-path="getting-started-with-flask.html"><a href="getting-started-with-flask.html#babys-first-web-app"><i class="fa fa-check"></i><b>2.1</b> Baby’s first web app</a><ul>
<li class="chapter" data-level="2.1.1" data-path="getting-started-with-flask.html"><a href="getting-started-with-flask.html#servers-up-servers-down"><i class="fa fa-check"></i><b>2.1.1</b> Servers up servers down</a></li>
<li class="chapter" data-level="2.1.2" data-path="getting-started-with-flask.html"><a href="getting-started-with-flask.html#routing-in-flask"><i class="fa fa-check"></i><b>2.1.2</b> Routing in Flask</a></li>
<li class="chapter" data-level="2.1.3" data-path="getting-started-with-flask.html"><a href="getting-started-with-flask.html#here-we-go-again"><i class="fa fa-check"></i><b>2.1.3</b> Here we go again</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="getting-started-with-flask.html"><a href="getting-started-with-flask.html#template-time"><i class="fa fa-check"></i><b>2.2</b> Template time</a><ul>
<li class="chapter" data-level="2.2.1" data-path="getting-started-with-flask.html"><a href="getting-started-with-flask.html#bringing-structure-to-this-world"><i class="fa fa-check"></i><b>2.2.1</b> Bringing structure to this world</a></li>
<li class="chapter" data-level="2.2.2" data-path="getting-started-with-flask.html"><a href="getting-started-with-flask.html#template-time-1"><i class="fa fa-check"></i><b>2.2.2</b> Template time</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="getting-started-with-flask.html"><a href="getting-started-with-flask.html#adding-css"><i class="fa fa-check"></i><b>2.3</b> Adding CSS</a><ul>
<li class="chapter" data-level="2.3.1" data-path="getting-started-with-flask.html"><a href="getting-started-with-flask.html#hello-bootstrap"><i class="fa fa-check"></i><b>2.3.1</b> Hello Bootstrap!</a></li>
<li class="chapter" data-level="2.3.2" data-path="getting-started-with-flask.html"><a href="getting-started-with-flask.html#what-now"><i class="fa fa-check"></i><b>2.3.2</b> What now?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="setting-up-our-database.html"><a href="setting-up-our-database.html"><i class="fa fa-check"></i><b>3</b> Setting up our database</a><ul>
<li class="chapter" data-level="3.1" data-path="setting-up-our-database.html"><a href="setting-up-our-database.html#intro-to-sqlite"><i class="fa fa-check"></i><b>3.1</b> Intro to SQLite</a></li>
<li class="chapter" data-level="3.2" data-path="setting-up-our-database.html"><a href="setting-up-our-database.html#creating-a-new-sqlite-database"><i class="fa fa-check"></i><b>3.2</b> Creating a new SQLite database</a><ul>
<li class="chapter" data-level="3.2.1" data-path="setting-up-our-database.html"><a href="setting-up-our-database.html#double-checking-the-import"><i class="fa fa-check"></i><b>3.2.1</b> Double-checking the import</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="connecting-flask-to-sqlite.html"><a href="connecting-flask-to-sqlite.html"><i class="fa fa-check"></i><b>4</b> Connecting Flask to SQLite</a><ul>
<li class="chapter" data-level="4.1" data-path="connecting-flask-to-sqlite.html"><a href="connecting-flask-to-sqlite.html#speaking-sql"><i class="fa fa-check"></i><b>4.1</b> Speaking SQL</a></li>
<li class="chapter" data-level="4.2" data-path="connecting-flask-to-sqlite.html"><a href="connecting-flask-to-sqlite.html#introduction-to-orms"><i class="fa fa-check"></i><b>4.2</b> Introduction to ORMs</a><ul>
<li class="chapter" data-level="4.2.1" data-path="connecting-flask-to-sqlite.html"><a href="connecting-flask-to-sqlite.html#setting-up-sqlalchemy"><i class="fa fa-check"></i><b>4.2.1</b> Setting up SQLAlchemy</a></li>
<li class="chapter" data-level="4.2.2" data-path="connecting-flask-to-sqlite.html"><a href="connecting-flask-to-sqlite.html#adding-our-model"><i class="fa fa-check"></i><b>4.2.2</b> Adding our Model</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="connecting-flask-to-sqlite.html"><a href="connecting-flask-to-sqlite.html#using-sqlalchemy"><i class="fa fa-check"></i><b>4.3</b> Using SQLAlchemy</a><ul>
<li class="chapter" data-level="4.3.0.1" data-path="connecting-flask-to-sqlite.html"><a href="connecting-flask-to-sqlite.html#ready-to-go"><i class="fa fa-check"></i><b>4.3.0.1</b> Ready to go?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="putting-data-on-the-page.html"><a href="putting-data-on-the-page.html"><i class="fa fa-check"></i><b>5</b> Putting data on the page</a><ul>
<li class="chapter" data-level="5.1" data-path="putting-data-on-the-page.html"><a href="putting-data-on-the-page.html#sending-data-to-the-template"><i class="fa fa-check"></i><b>5.1</b> Sending data to the template</a></li>
<li class="chapter" data-level="5.2" data-path="putting-data-on-the-page.html"><a href="putting-data-on-the-page.html#hello-jinja2"><i class="fa fa-check"></i><b>5.2</b> Hello Jinja2</a></li>
<li class="chapter" data-level="5.3" data-path="putting-data-on-the-page.html"><a href="putting-data-on-the-page.html#sending-meaningful-data-to-the-template"><i class="fa fa-check"></i><b>5.3</b> Sending meaningful data to the template</a><ul>
<li class="chapter" data-level="5.3.1" data-path="putting-data-on-the-page.html"><a href="putting-data-on-the-page.html#formatting-your-numbers"><i class="fa fa-check"></i><b>5.3.1</b> Formatting your numbers</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="putting-data-on-the-page.html"><a href="putting-data-on-the-page.html#sending-lists-to-our-template"><i class="fa fa-check"></i><b>5.4</b> Sending lists to our template</a></li>
<li class="chapter" data-level="5.5" data-path="putting-data-on-the-page.html"><a href="putting-data-on-the-page.html#making-school-pages"><i class="fa fa-check"></i><b>5.5</b> Making school pages</a><ul>
<li class="chapter" data-level="5.5.1" data-path="putting-data-on-the-page.html"><a href="putting-data-on-the-page.html#slugs"><i class="fa fa-check"></i><b>5.5.1</b> Slugs</a></li>
<li class="chapter" data-level="5.5.2" data-path="putting-data-on-the-page.html"><a href="putting-data-on-the-page.html#building-our-detail-route"><i class="fa fa-check"></i><b>5.5.2</b> Building our detail route</a></li>
<li class="chapter" data-level="5.5.3" data-path="putting-data-on-the-page.html"><a href="putting-data-on-the-page.html#crafting-a-detail-page"><i class="fa fa-check"></i><b>5.5.3</b> Crafting a detail page</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="putting-data-on-the-page.html"><a href="putting-data-on-the-page.html#linking-from-the-index-to-the-detail-page"><i class="fa fa-check"></i><b>5.6</b> Linking from the index to the detail page</a></li>
<li class="chapter" data-level="5.7" data-path="putting-data-on-the-page.html"><a href="putting-data-on-the-page.html#reusing-templates"><i class="fa fa-check"></i><b>5.7</b> Reusing templates</a><ul>
<li class="chapter" data-level="5.7.1" data-path="putting-data-on-the-page.html"><a href="putting-data-on-the-page.html#adding-yet-another-route"><i class="fa fa-check"></i><b>5.7.1</b> Adding yet another route</a></li>
<li class="chapter" data-level="5.7.2" data-path="putting-data-on-the-page.html"><a href="putting-data-on-the-page.html#fixing-up-the-root-route"><i class="fa fa-check"></i><b>5.7.2</b> Fixing up the root route</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="putting-data-on-the-page.html"><a href="putting-data-on-the-page.html#cleaning-up"><i class="fa fa-check"></i><b>5.8</b> Cleaning up</a><ul>
<li class="chapter" data-level="5.8.1" data-path="putting-data-on-the-page.html"><a href="putting-data-on-the-page.html#our-code"><i class="fa fa-check"></i><b>5.8.1</b> Our code</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="leveling-up-with-advanced-sqlalchemy-queries.html"><a href="leveling-up-with-advanced-sqlalchemy-queries.html"><i class="fa fa-check"></i><b>6</b> Leveling up with advanced SQLAlchemy queries</a><ul>
<li class="chapter" data-level="6.1" data-path="leveling-up-with-advanced-sqlalchemy-queries.html"><a href="leveling-up-with-advanced-sqlalchemy-queries.html#listing-all-of-our-cities"><i class="fa fa-check"></i><b>6.1</b> Listing all of our cities</a><ul>
<li class="chapter" data-level="6.1.1" data-path="leveling-up-with-advanced-sqlalchemy-queries.html"><a href="leveling-up-with-advanced-sqlalchemy-queries.html#cleaning-text-in-our-jinja2-templates"><i class="fa fa-check"></i><b>6.1.1</b> Cleaning text in our Jinja2 templates</a></li>
<li class="chapter" data-level="6.1.2" data-path="leveling-up-with-advanced-sqlalchemy-queries.html"><a href="leveling-up-with-advanced-sqlalchemy-queries.html#no-wait-maybe-not"><i class="fa fa-check"></i><b>6.1.2</b> No wait, maybe not!</a></li>
<li class="chapter" data-level="6.1.3" data-path="leveling-up-with-advanced-sqlalchemy-queries.html"><a href="leveling-up-with-advanced-sqlalchemy-queries.html#doing-the-same-for-zip-codes"><i class="fa fa-check"></i><b>6.1.3</b> Doing the same for ZIP codes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="layouts-for-our-templates.html"><a href="layouts-for-our-templates.html"><i class="fa fa-check"></i><b>7</b> Layouts for our templates</a><ul>
<li class="chapter" data-level="7.1" data-path="layouts-for-our-templates.html"><a href="layouts-for-our-templates.html#layouts"><i class="fa fa-check"></i><b>7.1</b> Layouts</a><ul>
<li class="chapter" data-level="7.1.1" data-path="layouts-for-our-templates.html"><a href="layouts-for-our-templates.html#and-a-final-fun-trick"><i class="fa fa-check"></i><b>7.1.1</b> And a final fun trick</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="layouts-for-our-templates.html"><a href="layouts-for-our-templates.html#adding-in-our-navigation"><i class="fa fa-check"></i><b>7.2</b> Adding in our navigation</a><ul>
<li class="chapter" data-level="7.2.1" data-path="layouts-for-our-templates.html"><a href="layouts-for-our-templates.html#a-dropdown-for-cities"><i class="fa fa-check"></i><b>7.2.1</b> A dropdown for cities</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="mapping-our-schools.html"><a href="mapping-our-schools.html"><i class="fa fa-check"></i><b>8</b> Mapping our schools</a><ul>
<li class="chapter" data-level="8.1" data-path="mapping-our-schools.html"><a href="mapping-our-schools.html#adding-mapbox-to-our-pages"><i class="fa fa-check"></i><b>8.1</b> Adding MapBox to our pages</a><ul>
<li class="chapter" data-level="8.1.1" data-path="mapping-our-schools.html"><a href="mapping-our-schools.html#adding-mapbox-css-and-js"><i class="fa fa-check"></i><b>8.1.1</b> Adding MapBox CSS and JS</a></li>
<li class="chapter" data-level="8.1.2" data-path="mapping-our-schools.html"><a href="mapping-our-schools.html#adding-a-basic-and-fake-map"><i class="fa fa-check"></i><b>8.1.2</b> Adding a basic (and fake) map</a></li>
<li class="chapter" data-level="8.1.3" data-path="mapping-our-schools.html"><a href="mapping-our-schools.html#inserting-our-data-into-the-map"><i class="fa fa-check"></i><b>8.1.3</b> Inserting our data into the map</a></li>
<li class="chapter" data-level="8.1.4" data-path="mapping-our-schools.html"><a href="mapping-our-schools.html#zooming-and-centering"><i class="fa fa-check"></i><b>8.1.4</b> Zooming and centering</a></li>
<li class="chapter" data-level="8.1.5" data-path="mapping-our-schools.html"><a href="mapping-our-schools.html#adjusting-the-style-of-our-dot"><i class="fa fa-check"></i><b>8.1.5</b> Adjusting the style of our dot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="reorganizing-our-page-with-columns.html"><a href="reorganizing-our-page-with-columns.html"><i class="fa fa-check"></i><b>9</b> Reorganizing our page with columns</a><ul>
<li class="chapter" data-level="9.1" data-path="reorganizing-our-page-with-columns.html"><a href="reorganizing-our-page-with-columns.html#columns-and-rows"><i class="fa fa-check"></i><b>9.1</b> Columns and rows</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Building Python-based, database-driven web applications (with maps!) using Flask, SQLite, SQLAlchemy and MapBox</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="getting-started-with-flask" class="section level1">
<h1><span class="header-section-number">2</span> Getting started with Flask</h1>
<p>We’re going to start by firing up a basic, no-frills web application using <a href="http://flask.pocoo.org/">Flask</a>. Flask is a <strong>web application framework</strong>, which means it does all the complicated parts of building a website and leaves you with the easy bits (relatively speaking). That definitely doesn’t make any sense right now, but that’s perfectly fine, because you’re about to see how it works!</p>
<div id="babys-first-web-app" class="section level2">
<h2><span class="header-section-number">2.1</span> Baby’s first web app</h2>
<p>Make a new, empty folder. Add a new file in it called <code>app.py</code> that contains the following code:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="co"># app.py</span>
<span class="im">from</span> flask <span class="im">import</span> Flask
app <span class="op">=</span> Flask(<span class="va">__name__</span>)

<span class="at">@app.route</span>(<span class="st">&quot;/&quot;</span>)
<span class="kw">def</span> hello():
    <span class="cf">return</span> <span class="st">&quot;Hello World!&quot;</span>

<span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&#39;__main__&#39;</span>:
    app.run(debug<span class="op">=</span><span class="va">True</span>)</code></pre>
<p>Welcome to your web app! Run it with <code>python app.py</code>. You might need to <code>pip install flask</code> before this bad boy will run.</p>
<p>Your terminal will do…. something? Nothing? In order to see the real magic, visit <a href="http://localhost:5000">http://localhost:5000</a>. Or <a href="http://127.0.0.1:5000">http://127.0.0.1:5000</a>!</p>
<p><img src="images/44.png" /></p>
<p><strong>Tada!</strong> it’s a web server, sending out a web site, just like Amazon or Geocities or whatever, except it’s running on <em>your</em> computer and <em>only you can see it</em>.</p>
<blockquote>
<p>Both <code>localhost</code> and <code>127.0.0.1</code> mean “your own computer,” and the <code>5000</code> is the <em>port</em>. If the IP address is the address of your computer in the world, the port is like a room number. If something is hanging out in room <code>8888</code> (Jupyter notebook!), no one else can stay in there.</p>
<p>Flask uses <code>5000</code> because it thinks hey, no reason not to. If something else was using <code>5000</code> Flask would panic and not work (there’s nowhere for it to stay, after all). You could change it by doing <code>app.run(debug=True, port=5001)</code> or whatever else you wanted, but for now let’s be satisfied with the basics.</p>
</blockquote>
<p>It’s pretty boring, though, and it only works for one URL. If you tried to go to <a href="http://localhost:5000/shoelaces">http://localhost:5000/shoelaces</a>, you’d get a <code>Not Found</code> error, just like if you tried to visit a web page on the Internet that doesn’t work.</p>
<div id="servers-up-servers-down" class="section level3">
<h3><span class="header-section-number">2.1.1</span> Servers up servers down</h3>
<p>If you were paying attention to your Terminal, you might have noticed that every time you refresh your page, it prints out a new line.</p>
<p><img src="images/43.png" /></p>
<pre><code>127.0.0.1 - - [13/Jun/2019 19:19:15] &quot;GET / HTTP/1.1&quot; 200 
127.0.0.1 - - [13/Jun/2019 19:25:09] &quot;GET /shoelaces HTTP/1.1&quot; 404 </code></pre>
<p>That’s Flask spitting out debugging information, just in case there’s an error. The <code>200</code> means everything went okay, while <code>404</code> means that it couldn’t find that page.</p>
<p>Go ahead and try to type something in that window, like a nice <code>ls</code> or <code>pwd</code>…. it won’t work! That’s because Python/Flask is busy being in charge of that command line now, and the program won’t stop running until you <strong>hold down the control key and press C</strong>, aka <code>Ctrl+C</code>.</p>
<p><strong>Go ahead and <code>Ctrl+C</code> your way out of the Python app.</strong></p>
<p><img src="images/42.png" /></p>
<p>You’re back at the command line now! If you try to refresh your web site at <a href="http://localhost:5000/">http://localhost:5000/</a>, you’ll also see it’s totally broken and doesn’t work at <em>all</em> now. That’s because your server is down!</p>
<p><img src="images/41.png" /></p>
<p>Before we turn it back on, let’s make a little adjustment to our <code>app.py</code>. Let’s help it support that <code>/shoelaces</code> URL we were talking about before:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="co"># app.py</span>
<span class="im">from</span> flask <span class="im">import</span> Flask
app <span class="op">=</span> Flask(<span class="va">__name__</span>)

<span class="at">@app.route</span>(<span class="st">&quot;/&quot;</span>)
<span class="kw">def</span> hello():
    <span class="cf">return</span> <span class="st">&quot;Hello World!&quot;</span>

<span class="at">@app.route</span>(<span class="st">&quot;/shoelaces&quot;</span>)
<span class="kw">def</span> shoelaces():
    <span class="cf">return</span> <span class="st">&quot;This works now!&quot;</span>

<span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&#39;__main__&#39;</span>:
    app.run(debug<span class="op">=</span><span class="va">True</span>)</code></pre>
<p>Restart your server by running <code>python app.py</code> again, then visit <a href="http://localhost:5000/shoelaces">http://localhost:5000/shoelaces</a> again.</p>
<p><img src="images/40.png" /></p>
<p>Hooray! Success!</p>
</div>
<div id="routing-in-flask" class="section level3">
<h3><span class="header-section-number">2.1.2</span> Routing in Flask</h3>
<p>The code we added looked like this:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="at">@app.route</span>(<span class="st">&quot;/shoelaces&quot;</span>)
<span class="kw">def</span> shoelaces():
    <span class="cf">return</span> <span class="st">&quot;This works now!&quot;</span></code></pre>
<p>This is called a <strong>route</strong>, it’s basically a URL where your web server has agreed to listen to. If you know about APIs, maybe you could call it an endpoint!</p>
<p>When someone visits <code>/shoelaces</code>, Flask runs the code underneath, and shows <code>This works now!</code> to whoever is on the page. If you’re confused by the <code>@app</code> or the <code>def</code> or any of that, <strong>don’t worry</strong>, it seriously doesn’t matter. There’s only one and a half rule:</p>
<p>When you add a new route, you add an <code>app.route</code>, but <strong>you also need to change the name of the <code>def</code> part.</strong></p>
<p>When we added the <code>/shoelaces</code> route, we mostly re-used the code from above (the <code>def</code> and the <code>return</code>), but we renamed <code>def hello</code> to be <code>def shoelaces</code>. Let’s compare them:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="at">@app.route</span>(<span class="st">&quot;/&quot;</span>)
<span class="kw">def</span> hello():
    <span class="cf">return</span> <span class="st">&quot;Hello world!&quot;</span></code></pre>
<pre class="sourceCode python"><code class="sourceCode python"><span class="at">@app.route</span>(<span class="st">&quot;/shoelaces&quot;</span>)
<span class="kw">def</span> shoelaces():
    <span class="cf">return</span> <span class="st">&quot;This works now!&quot;</span></code></pre>
<p>They both have different routes, and they both have different <code>def</code> names. Looks safe!</p>
<p><strong>If you re-use one of those names, your app will break!</strong> So please try not to.</p>
</div>
<div id="here-we-go-again" class="section level3">
<h3><span class="header-section-number">2.1.3</span> Here we go again</h3>
<p>Try adding one more route, this one can be called <code>/about</code>. Mine is going to look like this:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="at">@app.route</span>(<span class="st">&quot;/about&quot;</span>)
<span class="kw">def</span> about():
    <span class="cf">return</span> <span class="st">&quot;All about my website!&quot;</span></code></pre>
<p>Visit <a href="http://localhost:5000/about">http://localhost:5000/about</a>, and voila! Perfect, simple, magic. You added a new route, you added a new page, you added a little bit of beauty to the internet.</p>
<blockquote>
<p>Well, not the internet, actually! This web server <strong>only exists on your machine</strong>, and no one outside of your machine can access it. We’ll figure out how to put it online later, sorry if you were hyped to be the next MySpace.</p>
</blockquote>
</div>
</div>
<div id="template-time" class="section level2">
<h2><span class="header-section-number">2.2</span> Template time</h2>
<p>I’m going to tell you a secret, if you promise to keep it to yourself: <em>our web site sucks</em>. Like, real bad. We’re barely going to break the top 100 in Alexa with this, so we’re going to have to do some bigtime fixing-up.</p>
<p>Right now our website can only say words. Let’s change our <code>/</code> route (our <em>root</em>) to say something else when you visit the page, someting that looks <em>weird</em>:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="at">@app.route</span>(<span class="st">&quot;/&quot;</span>)
<span class="kw">def</span> hello():
    <span class="cf">return</span> <span class="st">&quot;&lt;h1&gt;Do you like big text?&lt;/h1&gt;&lt;p&gt;I&#39;m ambivalent but accepting&lt;/p&gt;&quot;</span></code></pre>
<p>Visit <a href="http://localhost:5000/">http://localhost:5000/</a> again and be <em>amazed</em>.</p>
<blockquote>
<p><strong>Or not!</strong> If your web site stops working, don’t worry. Flask likes to quit runnning your server if you accidentally save Python code that has an error. Just check your command line, you probably just need to re-run <code>python app.py</code>.</p>
</blockquote>
<div id="bringing-structure-to-this-world" class="section level3">
<h3><span class="header-section-number">2.2.1</span> Bringing structure to this world</h3>
<p>What we did was add <strong>HTML</strong> to our web page. HTML is the language that web pages are made out of!</p>
<p>If you love pedantry, we’re about to hit a great fact: HTML is a language computers use, but it <em>isn’t</em> a programming language!</p>
<p>HTML is a markup language - it’s right there in the name, HyperText Markup Language - and it’s used to describe what the different elements on a page are. <code>&lt;h1&gt;</code> means “real important header” and <code>&lt;h2&gt;</code> means “less important header” and <code>&lt;p&gt;</code> means “paragraph” and so on and so forth.</p>
<blockquote>
<p>You can add other web-friendly languages to make your pages fancier - CSS to make them pretty and JavaScript to make them interactive - but for the next uh ten seconds or so we’ll ignore that they exist and love our ugly ugly page.</p>
</blockquote>
<p>The biggest problem at the moment is that we <em>probably</em> want to write more than just those two lines on our page. Maybe we want like <em>ten</em> lines on our page, right? Sixty lines? And if we do, it’s going to be a royal pain to type all that out in one single Python string.</p>
<p>Is there a solution, hiding somewhere out in the world? Of course there is! We’re going to move them into a <strong>different file</strong>.</p>
<p>Creat a <strong>new folder</strong> call <code>templates</code>. And another one called <code>static</code>, while we’re at it!</p>
<p>Put a new empty file called <code>index.html</code> in your <code>templates</code> folder. It can live an alone, empty life for a second, I promise it’ll improve in a bit.</p>
<p>Your folder structure should look like this:</p>
<pre><code>app.py
static/
templates/
  index.html</code></pre>
</div>
<div id="template-time-1" class="section level3">
<h3><span class="header-section-number">2.2.2</span> Template time</h3>
<p>Now we’re going to set up our route to <em>use</em> that template. First step, import a little function that will allow us to talk to the template. Edit <code>app.py</code> to add a new import to the top of the file:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="co"># app.py</span>
<span class="im">from</span> flask <span class="im">import</span> Flask
<span class="im">from</span> flask <span class="im">import</span> render_template</code></pre>
<p>And now let’s use it - we’ll edit our <code>/</code> route again, but this time we’re going to <strong>point it to that index.html file</strong>.</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="at">@app.route</span>(<span class="st">&quot;/&quot;</span>)
<span class="kw">def</span> hello():
    <span class="cf">return</span> render_template(<span class="st">&quot;index.html&quot;</span>)</code></pre>
<p>Refresh <a href="http://localhost:5000/">http://localhost:5000/</a> and see your grand, beautiful page: ….it’s empty!</p>
<p>You if you check the command line running Flask, you’ll see that it’s printed <code>200</code>, which means everything <em>worked.</em> We forgot one thing, though: adding content into our template!</p>
<p>Edit <code>index.html</code> to look like this:</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="dt">&lt;!doctype </span>html<span class="dt">&gt;</span>
<span class="kw">&lt;html&gt;</span>
  <span class="kw">&lt;head&gt;</span>
    <span class="kw">&lt;title&gt;</span>My incredible web site.<span class="kw">&lt;/title&gt;</span>
  <span class="kw">&lt;/head&gt;</span>
  <span class="kw">&lt;body&gt;</span>
    <span class="kw">&lt;h1&gt;</span>This is a REAL WEB PAGE.<span class="kw">&lt;/h1&gt;</span>
    <span class="kw">&lt;h3&gt;</span>It&#39;s pretty cool.<span class="kw">&lt;/h2&gt;</span>
    <span class="kw">&lt;p&gt;</span>I&#39;m amazed and frankly you should be, too.<span class="kw">&lt;/p&gt;</span>
  <span class="kw">&lt;/body&gt;</span>
<span class="kw">&lt;/html&gt;</span></code></pre>
<p>Refresh again!</p>
<p><img src="images/37.png" /></p>
<p>Beautiful, beautiful, beautiful.</p>
</div>
</div>
<div id="adding-css" class="section level2">
<h2><span class="header-section-number">2.3</span> Adding CSS</h2>
<p>It isn’t actually beautiful, but let’s not be too harsh on ourselves. We aren’t designers! We just have to take what the browser gives us and accept it as a cruel reality.</p>
<p>…or do we?</p>
<p>We aren’t designers, but luckily, <em>other</em> people are. And not only are the designers, but they’ve <em>designed things and released them for us to use.</em></p>
<p>With one line of code we’re going to add <em>their</em> ways of styling a page to our amazing, beautiful website to make it even more amazing and beautiful.</p>
<div id="hello-bootstrap" class="section level3">
<h3><span class="header-section-number">2.3.1</span> Hello Bootstrap!</h3>
<p>We’re going to be using <a href="https://getbootstrap.com/">Bootstrap</a>, which is an incredibly popular and incredibly overwraught, heavyweight piece of overengineering. But like I said, it’s popular, so we don’t have any right to judge it (I guess?).</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="dt">&lt;!doctype </span>html<span class="dt">&gt;</span>
<span class="kw">&lt;html&gt;</span>
  <span class="kw">&lt;head&gt;</span>
    <span class="kw">&lt;title&gt;</span>My incredible web site.<span class="kw">&lt;/title&gt;</span>
    <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href=</span><span class="st">&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css&quot;</span><span class="ot"> crossorigin=</span><span class="st">&quot;anonymous&quot;</span><span class="kw">&gt;</span>
  <span class="kw">&lt;/head&gt;</span>
  <span class="kw">&lt;body&gt;</span>
    <span class="kw">&lt;h1&gt;</span>This is a REAL WEB PAGE.<span class="kw">&lt;/h1&gt;</span>
    <span class="kw">&lt;h3&gt;</span>It&#39;s pretty cool.<span class="kw">&lt;/h3&gt;</span>
    <span class="kw">&lt;p&gt;</span>I&#39;m amazed and frankly you should be, too.<span class="kw">&lt;/p&gt;</span>
  <span class="kw">&lt;/body&gt;</span>
<span class="kw">&lt;/html&gt;</span></code></pre>
<p><img src="images/36.png" /></p>
<p>Okay, actually it isn’t that beautiful yet, our font just changed a bit. We need to give it a little nudge to beautify it…</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="dt">&lt;!doctype </span>html<span class="dt">&gt;</span>
<span class="kw">&lt;html&gt;</span>
  <span class="kw">&lt;head&gt;</span>
    <span class="kw">&lt;title&gt;</span>My incredible web site.<span class="kw">&lt;/title&gt;</span>
    <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href=</span><span class="st">&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css&quot;</span><span class="ot"> crossorigin=</span><span class="st">&quot;anonymous&quot;</span><span class="kw">&gt;</span>
  <span class="kw">&lt;/head&gt;</span>
  <span class="kw">&lt;body&gt;</span>
      <span class="kw">&lt;nav</span><span class="ot"> class=</span><span class="st">&quot;navbar navbar-expand-lg navbar-dark bg-dark&quot;</span><span class="kw">&gt;</span>
        <span class="kw">&lt;a</span><span class="ot"> class=</span><span class="st">&quot;navbar-brand&quot;</span><span class="ot"> href=</span><span class="st">&quot;#&quot;</span><span class="kw">&gt;</span>An incredible site<span class="kw">&lt;/a&gt;</span>
      <span class="kw">&lt;/nav&gt;</span>
      <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;jumbotron&quot;</span><span class="kw">&gt;</span>
        <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;container&quot;</span><span class="kw">&gt;</span>
          <span class="kw">&lt;h1</span><span class="ot"> class=</span><span class="st">&quot;display-4&quot;</span><span class="kw">&gt;</span>This is a <span class="kw">&lt;strong&gt;</span>real web page<span class="kw">&lt;/strong&gt;</span>.<span class="kw">&lt;/h1&gt;</span>
          <span class="kw">&lt;p</span><span class="ot"> class=</span><span class="st">&quot;lead&quot;</span><span class="kw">&gt;</span>It&#39;s pretty cool.<span class="kw">&lt;/p&gt;</span>
        <span class="kw">&lt;/div&gt;</span>
      <span class="kw">&lt;/div&gt;</span>
      <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;container&quot;</span><span class="kw">&gt;</span>
        <span class="kw">&lt;p&gt;</span>I&#39;m amazed and frankly you should be, too.<span class="kw">&lt;/p&gt;</span>
        <span class="kw">&lt;p&gt;</span>Look at this stuff!!! Incredible.<span class="kw">&lt;/p&gt;</span>
      <span class="kw">&lt;/div&gt;</span>
    <span class="kw">&lt;/div&gt;</span>
  <span class="kw">&lt;/body&gt;</span>
<span class="kw">&lt;/html&gt;</span></code></pre>
<p>Okay, maybe more than a nudge, but that’s just how Bootstrap works: mostly well, and <em>painfully</em>. But you’ll get mostly used to it, I promise (or you’ll go use something nice like <a href="https://bulma.io/">bulma</a> instead).</p>
</div>
<div id="what-now" class="section level3">
<h3><span class="header-section-number">2.3.2</span> What now?</h3>
<p>Now that we have a somewhat cool website, we need some <em>content</em> to put on that site. Yeah, we could set up templates for <code>about</code> and <code>shoelaces</code> or whatever, but that’s a waste of time at the moment. We need some <em>stuff!</em></p>
<p>So let’s take a break from the web and dance on over to database land, where we’ll learn to put together the database that’s going to power our site.</p>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="setting-up-our-database.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 1
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
